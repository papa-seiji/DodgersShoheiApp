<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragments/header :: head ('Home Page')"></th:block>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs/lib/stomp.min.js"></script>
    <script src="/js/role-check.js"></script>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/Douga.css}">
    <script src="/js/home.js"></script> <!-- home.jsã‚’è¿½åŠ  -->
</head>
<body>
<!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
<div id="header-navbar">
    <div id="header-left">
        <div id="header-logo">
            <a href="https://www.mlb.com/dodgers">Dodgers</a>
        </div>
        <div id="header-info-container">
            <div id="user-info">2ä»¶ P. Seijiã•ã‚“</div>
            <div id="visitor-counter-display"><span id="visitor-counter-value">243</span>äººç›®</div>
        </div>
    </div>
    <nav id="header-nav-links">
        <div class="navbar-dropdown">
            <span class="navbar-dropdown-trigger" onclick="toggleDropdown()">Home</span>
            <div class="navbar-dropdown-content">
                <!-- <a href="/home">Home</a> -->
                <a href="/proud">Proud</a>
                <a href="/comments">Chat</a>
                <a href="/links">Links</a>
                <a href="/auth/logout">Logout</a>
            </div>
        </div>
    </nav>
</div>

    <th:block th:replace="fragments/header :: header"></th:block>

    <h1 id="oomidashi" class="shiny-text">â™¥ãƒ¯ãƒ¼ãƒ«ãƒ‰ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ãŠã‚ã§ã¨ã†â™¥</h1>
    <div id="confetti-container"><h1 id="fifty_fifty" class="shiny-text">å¤§è°·ç¿”å¹³MVP&54-59ãŠã‚ã§ã¨ã†</h1></div>
    <h5 class="shiny-text-1">ç›®æ¨™ã¯2025å¹´MLBé–‹å¹•æˆ¦Cubså¯¾Dodgersè¦³æˆ¦ã™ã‚‹ã“ã¨</h5>



            <div>statsapi.mlb.com å‚ç…§</div>
            <div class="stats-container-1">
            <div>
                <div id="SeasonStats-1">2024 Stats</div>
                <!-- æ‰“è€…æˆç¸¾ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                <div id="hitter-stats">
                    <div id="HitterStats-1">Hitter Stats</div>
                    <div><strong>Games:</strong> <span id="gamesPlayed"></span></div>
                    <div><strong>Average (AVG):</strong> <span id="avg"></span></div>
                    <div><strong>Home Runs:</strong> <span id="homeRuns"></span></div>
                    <div><strong>Stolen Bases:</strong> <span id="stolenBases"></span></div>
                    <div><strong>RBIs:</strong> <span id="rbi"></span></div>
                    <div><strong>OPS:</strong> <span id="ops"></span></div>
                </div>
            </div>
            <img src="/images/trimmin'-ohtani_swinggin'.png" alt="èƒŒæ™¯ç”»åƒ1" class="home-image6">
        </div>
        <!-- main ã‚«ã‚¦ãƒ³ã‚¿ -->
        <h3>HomeRun: <span id="main-counter-value">0</span></h3>
        <div id="main-counter-controls" class="admin-controls" style="display: none;">
            <button id="main-increment-button">UP</button>
            <button id="main-decrement-button">DW</button>
        </div>



        <div>ğŸ‘¼ã‚¨ãƒ³ã‚¼ãƒ«ã‚¹å½“æ™‚</div>
        <div class="stats-container-2">
            <div>
                <div id="SeasonStats-2">2023 Stats</div>
                <!-- æŠ•æ‰‹æˆç¸¾ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                <div id="pitcher-stats">
                    <div id="pitcher-stats-2">Pitcher Stats</div>
                    <div id="pitcher-stats-2_child"><strong>Games:</strong> <span id="pitcherGamesPlayed"></span></div>
                    <div id="pitcher-stats-2_child"><strong>Wins:</strong> <span id="wins"></span></div>
                    <div id="pitcher-stats-2_child"><strong>Losses:</strong> <span id="losses"></span></div>
                    <div id="pitcher-stats-2_child"><strong>ERA:</strong> <span id="era"></span></div>
                    <div id="pitcher-stats-2_child"><strong>Strikeouts:</strong> <span id="strikeOuts"></span></div>
                </div>
            </div>
            <img src="/images/LADæŠ•ã’ã‚‹å¤§è°·ç¿”å¹³-removebg-preview.png" alt="èƒŒæ™¯ç”»åƒ1" class="home-image9">
        </div>
        <!-- secondary ã‚«ã‚¦ãƒ³ã‚¿ -->
        <h3>PitchingWin: <span id="secondary-counter-value">0</span></h3>
        <div id="secondary-counter-controls" class="admin-controls" style="display: none;">
            <button id="secondary-increment-button">UP</button>
            <button id="secondary-decrement-button">DW</button>
        </div>
        
        
    <script src="/js/stats.js"></script>





    <!-- å‹•ç”»ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div id="douga-page">
        <div id="douga-grid">
            <!-- å·¦å´ã®å‹•ç”» -->
            <div class="douga-section">
                <!--<h3>2024 World Series ãƒ¡ãƒƒãƒ„æˆ¦ å…ˆåˆ¶HR</h3>-->
                <div id="hoge-hoge_1">ãƒ™ãƒ¼ã‚¹ãƒœãƒ¼ãƒ«å²ä¸Šæœ€é«˜ã®ï¼‘æ—¥</div>
                <div id="douga-container-1">
                Â  Â  <!--<iframe id="douga-video-1" width="560" height="315" src="https://www.youtube.com/embed/fuOMrPaLRP4?si=Dv03ihOMgv0ovkUj" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
                Â  Â  <iframe id="douga-video-1" width="560" height="315" src="https://www.youtube.com/embed/gByTMgn6JxI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>

            <!-- å³å´ã®å‹•ç”» -->
            <div class="douga-section">
                <!--<h3>2023å¹´æŠ•ã’ã¦ãŸé ƒLAA</h3>-->
                <div id="hoge-hoge_2">ã€æ¼¢ã€‘ã‚¹ã‚­ãƒƒãƒ—ãƒ»ã‚·ãƒ¥ãƒ¼ãƒãƒƒã‚«ãƒ¼ç›£ç£</div>
                <div id="douga-container-2">
                    <!--<iframe id="douga-video-2" width="560" height="315" src="https://www.youtube.com/embed/GVcOeTh6WcY?si=OySizA_xccNE7SOQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
                    <iframe id="douga-video-2" width="560" height="315" src="https://www.youtube.com/embed/yYb-0dn2-Ag" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>
    <img src="/images/ã‚¹ã‚­ãƒƒãƒ—ãƒ»ã‚·ãƒ¥ãƒ¼ãƒãƒƒã‚«ãƒ¼-ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼.jpg" alt="èƒŒæ™¯ç”»åƒ1" class="home-image5" width="400" height="445">

    <div id="fasion">
        <div id="Page_introduction-1">--------</div>
        <div id="Page_introduction-2">P</div>
        <div id="Page_introduction-3">age</div>
        <div id="Page_introduction-4">I</div>
        <div id="Page_introduction-5">ntroductio</div>
        <div id="Page_introduction-6">n</div>
        <div id="Page_introduction-7">--------</div>
    </div>

    <div class="home-layout1">
        <img src="/images/yamamoto_ay2-removebg-preview.png" alt="èƒŒæ™¯ç”»åƒ1" class="home-image1-1" style="margin-right: 1.7em">
        <div class="home-content1">
            <h1 id="oomidashi" class="shiny-text">Home</h1>
            <div>ç›´è¿‘HR&ç›´è¿‘æŠ•ç•ª.mp4</div>
            <div>ã€€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ HR</div>
            <div id="and">ã€€ã€€ã€€ã€€ã€€&</div>
            <div>ã€€PitchWinã‚«ã‚¦ãƒ³ã‚¿ãƒ¼</div>
            <!-- <h4>Topç”»é¢ã€Homeç”»é¢ã®èª¬æ˜</h4> -->
        </div>
        <!-- <img src="/images/trimmin'-ohtani_pitchin'.png" alt="èƒŒæ™¯ç”»åƒ1" class="home-image1"> -->
    </div>

    <div class="home-layout2">
        <div class="home-content2">
            <a href="/proud"><h1 id="oomidashi" class="shiny-text">Proud</h1></a>
            <div>å¿œæ´ã‚¹ã‚¿ã‚¤ãƒ«</div>
            <div>è‡ªæ…¢ã®å¿œæ´ã‚°ãƒƒã‚º..etc..</div>
            <h4 style="margin-top: -2%">ç”»åƒæŠ•ç¨¿ã—ã¦è‡ªæ…¢(PROUD)ã—ã¦ãã ã•ã„</h4>
        </div>
        <img src="/images/trimmin'-ohtani_creats.png" alt="èƒŒæ™¯ç”»åƒ1" class="home-image2">
    </div>

    <div class="home-layout3">
        <img src="/images/trimmin'-ohtani_swinggin'.png" alt="èƒŒæ™¯ç”»åƒ1" class="home-image3">
        <div class="home-content3">
            <a href="/comments"><h1 id="oomidashi" class="shiny-text">Chat</h1></a>
            <div>å¥½ããªé¸æ‰‹,ä»Šæ—¥ã®ç¿”å¹³å›</div>
            <div>å¯¾æˆ¦ç›¸æ‰‹,å¿œæ´ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸..etc..</div>
            <div>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã²ã¨ã“ã¨è¨€ã„åˆãˆã‚‹</div>
            <h4>ã„ãšã‚Œã¯å¿œæ´ã‚³ãƒ¡ãƒ³ãƒˆãŒãŸã¾ã£ãŸã‚‰æ­£å¼ã«Dodgersç¿”å¹³å›ã«é€ã‚Šã¾ã™</h4>
        </div>
    </div>

    <div class="home-layout4" style="margin-bottom: -30%">
        <div class="home-content4">
            <a href="/links"><h1 id="oomidashi" class="shiny-text">Link</h1></a>
            <div>Dodgers,ç¿”å¹³å›,ç”±ä¼¸å›</div>
            <div>ãƒ‡ã‚³ãƒ”ãƒ³,ã‚°ãƒƒã‚º,SNS ..etc..</div>
            <h4 style="margin-top: -2%">HomePageãƒªãƒ³ã‚¯é›†</h4>
        </div>
        <img src="/images/DodgersLogo.png" alt="èƒŒæ™¯ç”»åƒ1" class="home-image4">
    </div>



    <script>
        let stompClient = null;

        // WebSocketæ¥ç¶šã‚’é–‹å§‹
        function connect() {
            const socket = new SockJS('/ws');
            stompClient = Stomp.over(socket);

            stompClient.connect({}, () => {
                console.log("WebSocket connected");

                // MainCounterè³¼èª­
                stompClient.subscribe('/topic/MainCounter', (message) => {
                    const counter = JSON.parse(message.body);
                    document.getElementById('main-counter-value').textContent = counter.value;
                });

                // SecondaryCounterè³¼èª­
                stompClient.subscribe('/topic/SecondaryCounter', (message) => {
                    const counter = JSON.parse(message.body);
                    document.getElementById('secondary-counter-value').textContent = counter.value;
                });

                // åˆæœŸå€¤ã‚’å–å¾—
                fetchCounterValue("MainCounter", "main-counter-value");
                fetchCounterValue("SecondaryCounter", "secondary-counter-value");
            });
        }

        // ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ç¾åœ¨ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å€¤ã‚’å–å¾—
        function fetchCounterValue(counterName, elementId) {
            fetch(`/counter/${counterName}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Failed to fetch ${counterName} value`);
                    }
                    return response.json();
                })
                .then(data => {
                    document.getElementById(elementId).textContent = data.value;
                })
                .catch(error => console.error(`Error fetching ${counterName} value:`, error));
        }

        // ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®æ›´æ–°
        function updateCounter(counterName, increment) {
            fetch(`/counter/update?counterName=${counterName}&increment=${increment}`, {
                method: 'POST',
            })
            .then(response => response.json())
            .then(data => console.log('Counter updated:', data))
            .catch(error => console.error(`Error updating ${counterName} counter:`, error));
        }

        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«æ¥ç¶š
        document.addEventListener('DOMContentLoaded', () => {
            connect();

            // MainCounterã®ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
            document.getElementById('main-increment-button').addEventListener('click', () => {
                updateCounter("MainCounter", 1);
            });
            document.getElementById('main-decrement-button').addEventListener('click', () => {
                updateCounter("MainCounter", -1);
            });

            // SecondaryCounterã®ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
            document.getElementById('secondary-increment-button').addEventListener('click', () => {
                updateCounter("SecondaryCounter", 1);
            });
            document.getElementById('secondary-decrement-button').addEventListener('click', () => {
                updateCounter("SecondaryCounter", -1);
            });
        });
    </script>

    <script>
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã—ã¦ãƒ˜ãƒƒãƒ€ãƒ¼ã«è¡¨ç¤º
        function fetchUserInfo() {
            fetch('/auth/userinfo')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch user info');
                    }
                    return response.json();
                })
                .then(data => {
                    const userInfoElement = document.getElementById('user-info');
                    userInfoElement.textContent = `${data.number}ç•ª ${data.position}_${data.username}ã•ã‚“`;
                })
                .catch(error => console.error('Error fetching user info:', error));
        }
    
        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—
        document.addEventListener('DOMContentLoaded', fetchUserInfo);
    </script>



    <script>
        function toggleDropdown() {
            const dropdown = document.querySelector('.navbar-dropdown');
            dropdown.classList.toggle('open');
        }

        // å¤–éƒ¨ã‚¯ãƒªãƒƒã‚¯ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’é–‰ã˜ã‚‹
        document.addEventListener('click', function (event) {
            const dropdown = document.querySelector('.navbar-dropdown');
            const isClickInside = dropdown.contains(event.target);

            if (!isClickInside && dropdown.classList.contains('open')) {
                dropdown.classList.remove('open');
            }
        });
    </script>


    <th:block th:replace="fragments/footer :: footer"></th:block>
</body>
</html>
