<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>hogehoge_04</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script th:inline="javascript">
  window.MONTH_GAMES = /*[[${monthGames}]]*/ [];
</script>
<script src="/js/hogehoge_04.js"></script>

<style>
/* ===== Layout ===== */
.month-detail-wrapper {
  max-width: 1200px;   /* â† ç”»é¢ã‚’åºƒãä½¿ã„ãŸã„ãªã‚‰ã“ã“ã‚’æ‹¡å¼µ */
  width: 100%;
  margin: 0 auto;     /* â˜… å¸¸ã«ä¸­å¤® */
  padding: 24px 20px 40px;
  box-sizing: border-box;
    overflow-x: hidden; /* â˜…ã“ã‚Œ */
}

.month-title {
  text-align: center;
  font-size: 22px;
  margin-bottom: 20px;
  letter-spacing: 1px;
}

/* ===== Scorebook Table ===== */
.scorebook-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  background: #fffdf6;
  box-shadow: 0 6px 16px rgba(0,0,0,0.08);
  margin-bottom: 32px;
}

.scorebook-table thead {
  background: #2f2f2f;
  color: #fff;
}

.scorebook-table th,
.scorebook-table td {
  padding: 10px 8px;
  border-bottom: 1px solid #ddd;
  text-align: center;
}

.scorebook-table tbody tr:hover {
  background: #f7f3e8;
}

/* å‹æ•— */
.win { color: #c62828; font-weight: bold; }
.lose { color: #1565c0; font-weight: bold; }

/* èª¿å­ */
.form-s { color: #d32f2f; font-weight: bold; }
.form-a { color: #ef6c00; font-weight: bold; }
.form-b { color: #fbc02d; }
.form-c { color: #546e7a; }

/* ===== è©¦åˆè©³ç´°ã‚«ãƒ¼ãƒ‰ ===== */
.game-card {
  width: 100%;                /* â˜…å¿…é ˆ */
  box-sizing: border-box;     /* â˜…å¿…é ˆ */
  background: #ffffff;
  border: 1px solid #ddd;
  border-radius: 10px;
  /* padding: 16px; */
  margin-bottom: 32px;
}

.game-header {
  display: flex;
  justify-content: space-between;
  font-weight: bold;
  font-size: 15px;
  margin-bottom: 8px;
}

.batting-summary {
  margin: 10px 0 12px;
  font-weight: bold;
}

.atbat-list {
  padding-left: 18px;
  margin-bottom: 12px;
}

.atbat-list li {
  margin-bottom: 4px;
  font-size: 14px;
}

.bat-result {
  margin-left: 6px;
  font-weight: bold;
}

/* ===== Images ===== */
.game-images {
  display: flex;
  gap: 8px;
  margin-top: 12px;
}

.game-images img {
  width: 100%;
  max-width: 160px;
  border-radius: 6px;
  object-fit: cover;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}


/* .inning-block{
  font-weight: bold;
    font-size: 21px;
    color: #f34141;
} */

.inning-stats{
  font-weight: bold;
    font-size: 19px;
    color: #070707;
    background-color: #ffeba4;
}


.inning-desc{
  margin-left: 58px;
    margin-bottom: 14px;
    font-weight: bold;
    color: #000000 ;
    font-size: 21px;
}

/* ===== Comment ===== */
.game-comment {
  background: #3eb92c8a;
  padding: 12px;
  border-radius: 6px;
  margin-top: 12px;
  margin-bottom: 50px;
}

.game-comment pre {
  margin: 0;
  white-space: pre-wrap;
  font-family: inherit;
  font-size: 14px;
}

/* æˆ»ã‚‹ */
.back-link {
  display: inline-block;
  margin-top: 24px;
  text-decoration: none;
  font-weight: bold;
  color: #3366cc;
  font-size: 28px;
}

/* =====================================================
   â˜… MLBé¢¨ ãƒ©ã‚¤ãƒ³ã‚¹ã‚³ã‚¢ï¼ˆå®Œå…¨å†ç¾ï¼‰
===================================================== */

.linescore-table {
  width: 100%;
  border-collapse: collapse;
  margin: 12px 0 16px;
  background: #000;
  color: #eee;
  font-size: 13px;
  font-family: "Arial Narrow", "Segoe UI", sans-serif;
  box-shadow: inset 0 0 0 1px #222;
}

.linescore-table th,
.linescore-table td {
  border: 1px solid #222;
  padding: 6px;
  text-align: center;
  min-width: 26px;
}

/* ãƒ˜ãƒƒãƒ€ */
.linescore-table thead th {
  background: #111;
  color: #aaa;
  font-size: 12px;
  font-weight: normal;
}

/* TEAMåˆ— */
.linescore-table th:first-child,
.linescore-table td:first-child {
  min-width: 52px;
  font-weight: bold;
  color: #ddd;
}

/* Away ã‚¤ãƒ‹ãƒ³ã‚° */
.linescore-table tbody tr:first-child td:not(:first-child):not(:nth-last-child(-n+3)) {
  color: #ff9800;
  font-weight: bold;
}

/* Home ã‚¤ãƒ‹ãƒ³ã‚° */
.linescore-table tbody tr:last-child td:not(:first-child):not(:nth-last-child(-n+3)) {
  color: #fdd835;
  font-weight: bold;
}

/* R H E */
.linescore-table td:nth-last-child(3),
.linescore-table td:nth-last-child(2),
.linescore-table td:nth-last-child(1) {
  background: #0b0b0b;
  color: #fff;
  font-weight: bold;
}

/* å‹åˆ©ãƒãƒ¼ãƒ  R */
.linescore-table tr:last-child td:nth-last-child(3) {
  color: #ff5252;
}

/* ãƒãƒ¼ãƒ å */
.linescore-table tr:first-child td:first-child {
  color: #b0bec5;
}
.linescore-table tr:last-child td:first-child {
  color: #64b5f6;
}


/* .game-row.is-selected {
  background: #d5ad1b;
}
 */

.selected-row  {
  background: #d5ad1b;
}

.back-to-month {
  margin: 16px 0;
}

.back-button {
  display: inline-block;
  padding: 6px 12px;
  background: #df8383;
  border-radius: 4px;
  text-decoration: none;
  color: #333;
  font-size: 16px;
}

.back-button:hover {
  background: #0a0a0a;
    color: #ffffff;

}


</style>
</head>

<body>

<h1>
  <span th:text="${month}">4</span>æœˆã®è©³ç´°ãƒšãƒ¼ã‚¸
</h1>
<!--<p id="info"></p>-->

<a href="/hogehoge_03" class="back-link">
  â† ã‚·ãƒ¼ã‚ºãƒ³ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«æˆ»ã‚‹
</a>

<div class="month-detail-wrapper">

  <!-- ===== 4æœˆ æˆç¸¾æ¨ç§»ã‚°ãƒ©ãƒ• ===== -->
  <div style="margin:0 auto 32px;">
    <canvas id="hogehoge04Chart" height="120"></canvas>
  </div>

  <h2 class="month-title">
    <span th:text="${month}">4</span>æœˆ ç™»æ¿ä¸€è¦§
  </h2>

<!-- ===== æœˆé–“ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ« ===== -->
<table class="scorebook-table">
  <thead>
    <tr>
      <th>Date</th>
      <th>Opponent</th>
      <th>Result</th>
      <th>Form</th>
    </tr>
  </thead>

  <tbody>
    <tr th:each="g : ${monthGames}"
        th:if="${g != null and (param.date == null or g.gameDate.toString() == param.date[0])}"
        th:attr="data-date=${g.gameDate}"
        class="game-row"
        th:classappend="${param.date != null and g.gameDate.toString() == param.date[0]}
                        ? ' selected-row' : ''">

      <td>
        <a th:href="@{/hogehoge_04(month=${month}, date=${g.gameDate})}"
          th:text="${#temporals.format(g.gameDate,'MM/dd')}">
        </a>
      </td>

      <td th:text="${g.opponent}"></td>

      <td th:text="${g.result}"
          th:classappend="${g.result.contains('â—')} ? 'lose' : 'win'">
      </td>

      <td th:text="${g.formValue}"
          th:classappend="'form-' + ${#strings.toLowerCase(g.formValue)}">
      </td>

    </tr>
  </tbody>
</table>

  <!-- ===== ä¸€è¦§ã«æˆ»ã‚‹ ===== -->
  <div class="back-to-month" th:if="${param.date != null}">
    <a th:href="@{/hogehoge_04(month=${month})}" class="back-button">
      â† <span th:text="${month}">4</span>æœˆã®ç™»æ¿ä¸€è¦§ã«æˆ»ã‚‹
    </a>
  </div>

<!-- ===== ç™»æ¿ã‚«ãƒ¼ãƒ‰ ===== -->
<div class="game-card"
     th:each="game : ${monthGames}"
     th:with="detail=${detailMap[game.id]}">

  <!-- ãƒ˜ãƒƒãƒ€ -->
  <h3 class="game-title">
    <span
      th:text="|${#temporals.format(game.gameDate,'M/d')} vs ${game.opponent}|">
    </span>

    <span class="total-pitches"
          th:if="${detail != null and detail.totalPitches != null}">
      ï¼ˆæŠ•çƒæ•°ï¼š<span th:text="${detail.totalPitches}"></span>çƒï¼‰
    </span>

    <span class="decision-pitcher"
          th:if="${detail != null and detail.decisionPitcher != null}">
      ï¼ˆ<span th:text="${detail.decisionPitcher}"></span>ï¼‰
    </span>
  </h3>

<!-- ========================================= -->
<!-- ğŸ”µ Linescoreï¼ˆã“ã®ã‚«ãƒ¼ãƒ‰å†…ã®ã¿ï¼‰ -->
<!-- ========================================= -->

<th:block th:with="g=${linescoreMap[game.id]}">

  <table class="linescore-table"
         th:if="${g != null and g.homeRunsByInning != null}">

    <thead>
      <tr>
        <th>TEAM</th>

        <th th:each="i : ${#numbers.sequence(1, g.homeRunsByInning.size())}"
            th:text="${i}">
        </th>

        <th>R</th>
        <th>H</th>
        <th>E</th>
      </tr>
    </thead>

    <tbody>

      <!-- LADãŒHOME -->
      <th:block th:if="${g.home.teamName == 'Los Angeles Dodgers'}">

        <tr th:with="awayTotal=0">
          <td th:text="${g.away.teamName}"></td>

          <td th:each="run : ${g.awayRunsByInning}"
              th:text="${run}"
              th:with="awayTotal=${awayTotal + run}">
          </td>

          <td th:text="${#aggregates.sum(g.awayRunsByInning)}"></td>
          <td th:text="${g.awayHits != null ? g.awayHits : 0}"></td>
          <td th:text="${g.awayErrors != null ? g.awayErrors : 0}"></td>
        </tr>

        <tr>
          <td>LAD</td>

          <td th:each="run : ${g.homeRunsByInning}"
              th:text="${run}">
          </td>

          <td th:text="${#aggregates.sum(g.homeRunsByInning)}"></td>
          <td th:text="${g.homeHits != null ? g.homeHits : 0}"></td>
          <td th:text="${g.homeErrors != null ? g.homeErrors : 0}"></td>
        </tr>

      </th:block>

      <!-- LADãŒAWAY -->
      <th:block th:if="${g.away.teamName == 'Los Angeles Dodgers'}">

        <tr>
          <td>LAD</td>

          <td th:each="run : ${g.awayRunsByInning}"
              th:text="${run}">
          </td>

          <td th:text="${#aggregates.sum(g.awayRunsByInning)}"></td>
          <td th:text="${g.awayHits != null ? g.awayHits : 0}"></td>
          <td th:text="${g.awayErrors != null ? g.awayErrors : 0}"></td>
        </tr>

        <tr>
          <td th:text="${g.home.teamName}"></td>

          <td th:each="run : ${g.homeRunsByInning}"
              th:text="${run}">
          </td>

          <td th:text="${#aggregates.sum(g.homeRunsByInning)}"></td>
          <td th:text="${g.homeHits != null ? g.homeHits : 0}"></td>
          <td th:text="${g.homeErrors != null ? g.homeErrors : 0}"></td>
        </tr>

      </th:block>

    </tbody>
  </table>

</th:block>


  <!-- ===== ç™»æ¿è©³ç´° ===== -->
  <div th:if="${detail != null}">

    <!-- ===== 1å›ã€œ10å›ï¼ˆæ˜ç¤ºå±•é–‹ãƒ»å®‰å…¨ç‰ˆï¼‰ ===== -->

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š1å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning1So != null and detail.inning1So != 0)
        or (detail.inning1Bb != null and detail.inning1Bb != 0)
        or (detail.inning1Out != null and detail.inning1Out != 0)
        or (detail.inning1Hit != null and detail.inning1Hit != 0)
        or !#strings.isEmpty(detail.inning1Description)
     )}">
  <div class="inning-stats">
    ã€1å›ã€‘
    SO:<span th:text="${detail.inning1So}"></span>
    BB:<span th:text="${detail.inning1Bb}"></span>
    OUT:<span th:text="${detail.inning1Out}"></span>
    HIT:<span th:text="${detail.inning1Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning1Description}">
  </div>
</div>

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š2å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning2So != null and detail.inning2So != 0)
        or (detail.inning2Bb != null and detail.inning2Bb != 0)
        or (detail.inning2Out != null and detail.inning2Out != 0)
        or (detail.inning2Hit != null and detail.inning2Hit != 0)
        or !#strings.isEmpty(detail.inning2Description)
     )}">
  <div class="inning-stats">
    ã€2å›ã€‘
    SO:<span th:text="${detail.inning2So}"></span>
    BB:<span th:text="${detail.inning2Bb}"></span>
    OUT:<span th:text="${detail.inning2Out}"></span>
    HIT:<span th:text="${detail.inning2Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning2Description}">
  </div>
</div>

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š3å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning3So != null and detail.inning3So != 0)
        or (detail.inning3Bb != null and detail.inning3Bb != 0)
        or (detail.inning3Out != null and detail.inning3Out != 0)
        or (detail.inning3Hit != null and detail.inning3Hit != 0)
        or !#strings.isEmpty(detail.inning3Description)
     )}">
  <div class="inning-stats">
    ã€3å›ã€‘
    SO:<span th:text="${detail.inning3So}"></span>
    BB:<span th:text="${detail.inning3Bb}"></span>
    OUT:<span th:text="${detail.inning3Out}"></span>
    HIT:<span th:text="${detail.inning3Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning3Description}">
  </div>
</div>

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š4å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning4So != null and detail.inning4So != 0)
        or (detail.inning4Bb != null and detail.inning4Bb != 0)
        or (detail.inning4Out != null and detail.inning4Out != 0)
        or (detail.inning4Hit != null and detail.inning4Hit != 0)
        or !#strings.isEmpty(detail.inning4Description)
     )}">
  <div class="inning-stats">
    ã€4å›ã€‘
    SO:<span th:text="${detail.inning4So}"></span>
    BB:<span th:text="${detail.inning4Bb}"></span>
    OUT:<span th:text="${detail.inning4Out}"></span>
    HIT:<span th:text="${detail.inning4Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning4Description}">
  </div>
</div>

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š5å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning5So != null and detail.inning5So != 0)
        or (detail.inning5Bb != null and detail.inning5Bb != 0)
        or (detail.inning5Out != null and detail.inning5Out != 0)
        or (detail.inning5Hit != null and detail.inning5Hit != 0)
        or !#strings.isEmpty(detail.inning5Description)
     )}">
  <div class="inning-stats">
    ã€5å›ã€‘
    SO:<span th:text="${detail.inning5So}"></span>
    BB:<span th:text="${detail.inning5Bb}"></span>
    OUT:<span th:text="${detail.inning5Out}"></span>
    HIT:<span th:text="${detail.inning5Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning5Description}">
  </div>
</div>

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š6å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning6So != null and detail.inning6So != 0)
        or (detail.inning6Bb != null and detail.inning6Bb != 0)
        or (detail.inning6Out != null and detail.inning6Out != 0)
        or (detail.inning6Hit != null and detail.inning6Hit != 0)
        or !#strings.isEmpty(detail.inning6Description)
     )}">
  <div class="inning-stats">
    ã€6å›ã€‘
    SO:<span th:text="${detail.inning6So}"></span>
    BB:<span th:text="${detail.inning6Bb}"></span>
    OUT:<span th:text="${detail.inning6Out}"></span>
    HIT:<span th:text="${detail.inning6Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning6Description}">
  </div>
</div>

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š7å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning7So != null and detail.inning7So != 0)
        or (detail.inning7Bb != null and detail.inning7Bb != 0)
        or (detail.inning7Out != null and detail.inning7Out != 0)
        or (detail.inning7Hit != null and detail.inning7Hit != 0)
        or !#strings.isEmpty(detail.inning7Description)
     )}">
  <div class="inning-stats">
    ã€7å›ã€‘
    SO:<span th:text="${detail.inning7So}"></span>
    BB:<span th:text="${detail.inning7Bb}"></span>
    OUT:<span th:text="${detail.inning7Out}"></span>
    HIT:<span th:text="${detail.inning7Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning7Description}">
  </div>
</div>

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š8å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning8So != null and detail.inning8So != 0)
        or (detail.inning8Bb != null and detail.inning8Bb != 0)
        or (detail.inning8Out != null and detail.inning8Out != 0)
        or (detail.inning8Hit != null and detail.inning8Hit != 0)
        or !#strings.isEmpty(detail.inning8Description)
     )}">
  <div class="inning-stats">
    ã€8å›ã€‘
    SO:<span th:text="${detail.inning8So}"></span>
    BB:<span th:text="${detail.inning8Bb}"></span>
    OUT:<span th:text="${detail.inning8Out}"></span>
    HIT:<span th:text="${detail.inning8Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning8Description}">
  </div>
</div>

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š9å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning9So != null and detail.inning9So != 0)
        or (detail.inning9Bb != null and detail.inning9Bb != 0)
        or (detail.inning9Out != null and detail.inning9Out != 0)
        or (detail.inning9Hit != null and detail.inning9Hit != 0)
        or !#strings.isEmpty(detail.inning9Description)
     )}">
  <div class="inning-stats">
    ã€9å›ã€‘
    SO:<span th:text="${detail.inning9So}"></span>
    BB:<span th:text="${detail.inning9Bb}"></span>
    OUT:<span th:text="${detail.inning9Out}"></span>
    HIT:<span th:text="${detail.inning9Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning9Description}">
  </div>
</div>

<!-- ===== ç™»æ¿è©³ç´°ï¼ˆInning Detailï¼š10å›ï¼‰===== -->
<div class="inning-block"
     th:if="${detail != null and (
        (detail.inning10So != null and detail.inning10So != 0)
        or (detail.inning10Bb != null and detail.inning10Bb != 0)
        or (detail.inning10Out != null and detail.inning10Out != 0)
        or (detail.inning10Hit != null and detail.inning10Hit != 0)
        or !#strings.isEmpty(detail.inning10Description)
     )}">
  <div class="inning-stats">
    ã€10å›ã€‘
    SO:<span th:text="${detail.inning10So}"></span>
    BB:<span th:text="${detail.inning10Bb}"></span>
    OUT:<span th:text="${detail.inning10Out}"></span>
    HIT:<span th:text="${detail.inning10Hit}"></span>
  </div>
  <div class="inning-desc"
       th:text="${detail.inning10Description}">
  </div>
</div>

  <!-- ===== ç·è©• ===== -->
  <div class="game-comment"
       th:if="${game.comment != null and !#strings.isEmpty(game.comment)}">
    <strong
      th:text="|${#temporals.format(game.gameDate,'M/d')} ç·è©•ã€${game.formValue}ã€‘|">
    </strong>
    <pre th:text="${game.comment}"></pre>
  </div>

</div>

<script th:inline="javascript">
/*<![CDATA[*/
window.CHART_LABELS = [[${chartLabels}]];
window.CHART_VALUES = [[${chartValues}]];
/*]]>*/
</script>


</body>
</html>
